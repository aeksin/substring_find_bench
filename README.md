# Бенчмарк для алгоритма поиска всех вхождений подстроки в строке
Проект предназначен для измерения времени работы алгоритма поиска подстроки в строке(в основном там, где не используются встроенные возможности языка Python, реализован алгоритм Кнута — Морриса — Пратта)  
Написано на C, GNU Assembly и Python, запускается через Python с помощью модуля ctypes
## Требования  
Требованиями для запуска проекта являются любая unix-подобная система на процессоре x86-64.  
По умолчанию динамическая библиотека(libasm.so)  с функциями из С и ассемблера собрана и лежит в репозитории. При необходимости сборки динамической библиотеки необходимо поставить make и средства сборки gnu:  
    ```
    apt -y install build-essential
    ```   
    ```
    apt install make
    ```
## Описание проекта
В качестве примера задачи, которую можно оптимизировать на ассемблере, была выбрана задача поиска всех вхождений подстроки в определённую строку. На Python был написан алгоритм Кнута-Морриса-Пратта, решение через find и решение через re.finditer. На си и на ассемблере был написан всё тот же алгоритм Кнута-Морриса-Пратта в двух версиях - где строки складываются на питоне а затем передаются в алгоритм, и разбитый на две части алгоритм без сложения строк. Стоит отметить, что в случае, когда строка является короткой или число вхождений подстроки в строку сравнительно мало, рекордсменом является пайтоновский find, так как он реализует другой алгоритм, и ему, в отличие от си и ассемблера, не нужно тратить время на конвертацию из пайтоновских строки в на байтовую строку. Но данный метод очень сильно замедляется, когда строка становится большой длины и число вхождений подстроки в строку также сравнительно велико(~100-1000 и более). Связка пайтона с ассемблером через ctypes была выбрана потому, что:  
во-первых, ctypes является встроенным модулем для python, не требующим дополнительной установки  
во-вторых, в отличие от С/Python API, в нем легче и проще конвертировать типы из пайтоновских в простые си-шные типы
## результат работы
![https://github.com/aeksin/substring_find_bench/raw/main/substring_file_bench/results.png](https://github.com/aeksin/substring_find_bench/blob/main/results.png)
